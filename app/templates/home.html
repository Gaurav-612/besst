{% extends 'base.html'%}

{% block title %} Home {% endblock %}

{% block styles %}
<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/home.css')}}">
<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/home-inputs.css')}}">
<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/home-results.css')}}">
{% endblock %}

{% block scripts %} {% endblock %}

<!-- CONTENT HERE -->
{% block content %}
<div class="site-header">
    <img class="img-m" src="{{url_for('static', filename='home-cover.png')}}">
    <div class="site-custom-curve">
        <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
            <path
                d="M985.66,92.83C906.67,72,823.78,31,743.84,14.19c-82.26-17.34-168.06-16.33-250.45.39-57.84,11.73-114,31.07-172,41.86A600.21,600.21,0,0,1,0,27.35V120H1200V95.8C1132.19,118.92,1055.71,111.31,985.66,92.83Z"
                class="shape-fill"></path>
        </svg>
    </div>
</div>

<div class="container">
    <p1>Welcome to BESST</p1>
</div>

<div class="container">
    <p2> Explore your potential battery energy savings </p2>
</div>

<form action="{{url_for('renderInputs1', scroll='scrollto_electricity_form-billtype')}}" method="post"
    class="container">
    <div class="frame">
        <button id="begin-proc-btn" class="btn btn-primary mb-2" name="renderInputs" type="submit">Begin</button>
    </div>
</form>

<div class="container">
    <div class="card shadow1"
        style="width: 18rem; margin: 25px 25px 25px 25px; align-items: center; border-radius: 10px;top:-100px;">
        <img class="card-img-top" src="{{url_for('static', filename='home-card-save.png')}}"
            style="width: 50px; height: 50px; margin-top: 10px;">
        <div class="card-body">
            <p class="card-text" style="text-align: center;">Long-term Savings</p>
            <p class="card-text" style="text-align: center;">Look into the full visibility of long-term cost saving and
                the payback period for your powerwall system.</p>
        </div>
    </div>

    <div class="card shadow2"
        style="width: 18rem; margin: 25px 25px 25px 25px; align-items: center; border-radius: 10px;top:-100px;">
        <img class="card-img-top" src="{{url_for('static', filename='home-card-env.png')}}"
            style="width: 50px; height: 50px; margin-top: 10px;">
        <div class="card-body">
            <p class="card-text" style="text-align: center;">C02 Footprint Reduction</p>
            <p class="card-text" style="text-align: center;">See how owning Battery Energy Storage Systems impact your
                household carbond footprint overtime. </p>
        </div>
    </div>

    <div class="card shadow3"
        style="width: 18rem; margin: 25px 25px 25px 25px; align-items: center; border-radius: 10px;top:-100px;">
        <img class="card-img-top" src="{{url_for('static', filename='home-card-outs.png')}}"
            style="width: 50px; height: 50px; margin-top: 10px;">
        <div class="card-body">
            <p class="card-text" style="text-align: center;">Mitigate Blackouts</p>
            <p class="card-text" style="text-align: center;">Prevent powerages to your home with a Battery Energy
                Storage System.</p>
        </div>
    </div>
</div>

<svg width="404" height="114" viewBox="0 0 404 114" fill="none" xmlns="http://www.w3.org/2000/svg" id="title">
    <mask id="path-1-outside-1_2_6" maskUnits="userSpaceOnUse" x="0.0880127" y="0.335999" width="403" height="113" fill="black">
    <rect fill="white" x="0.0880127" y="0.335999" width="403" height="113"/>
    <path d="M55.344 55.304C58.992 55.88 62.304 57.368 65.28 59.768C68.352 62.168 70.752 65.144 72.48 68.696C74.304 72.248 75.216 76.04 75.216 80.072C75.216 85.16 73.92 89.768 71.328 93.896C68.736 97.928 64.944 101.144 59.952 103.544C55.056 105.848 49.248 107 42.528 107H5.08801V6.632H41.088C47.904 6.632 53.712 7.784 58.512 10.088C63.312 12.296 66.912 15.32 69.312 19.16C71.712 23 72.912 27.32 72.912 32.12C72.912 38.072 71.28 43.016 68.016 46.952C64.848 50.792 60.624 53.576 55.344 55.304ZM18.192 49.976H40.224C46.368 49.976 51.12 48.536 54.48 45.656C57.84 42.776 59.52 38.792 59.52 33.704C59.52 28.616 57.84 24.632 54.48 21.752C51.12 18.872 46.272 17.432 39.936 17.432H18.192V49.976ZM41.376 96.2C47.904 96.2 52.992 94.664 56.64 91.592C60.288 88.52 62.112 84.248 62.112 78.776C62.112 73.208 60.192 68.84 56.352 65.672C52.512 62.408 47.376 60.776 40.944 60.776H18.192V96.2H41.376Z"/>
    <path d="M106.505 17.288V50.84H143.081V61.64H106.505V96.2H147.401V107H93.4005V6.488H147.401V17.288H106.505Z"/>
    <path d="M199.053 108.008C192.429 108.008 186.477 106.856 181.197 104.552C176.013 102.152 171.933 98.888 168.957 94.76C165.981 90.536 164.445 85.688 164.349 80.216H178.317C178.797 84.92 180.717 88.904 184.077 92.168C187.533 95.336 192.525 96.92 199.053 96.92C205.293 96.92 210.189 95.384 213.741 92.312C217.389 89.144 219.213 85.112 219.213 80.216C219.213 76.376 218.157 73.256 216.045 70.856C213.933 68.456 211.293 66.632 208.125 65.384C204.957 64.136 200.685 62.792 195.309 61.352C188.685 59.624 183.357 57.896 179.325 56.168C175.389 54.44 171.981 51.752 169.101 48.104C166.317 44.36 164.925 39.368 164.925 33.128C164.925 27.656 166.317 22.808 169.101 18.584C171.885 14.36 175.773 11.096 180.765 8.792C185.853 6.488 191.661 5.336 198.189 5.336C207.597 5.336 215.277 7.688 221.229 12.392C227.277 17.096 230.685 23.336 231.453 31.112H217.053C216.573 27.272 214.557 23.912 211.005 21.032C207.453 18.056 202.749 16.568 196.893 16.568C191.421 16.568 186.957 18.008 183.501 20.888C180.045 23.672 178.317 27.608 178.317 32.696C178.317 36.344 179.325 39.32 181.341 41.624C183.453 43.928 185.997 45.704 188.973 46.952C192.045 48.104 196.317 49.448 201.789 50.984C208.413 52.808 213.741 54.632 217.773 56.456C221.805 58.184 225.261 60.92 228.141 64.664C231.021 68.312 232.461 73.304 232.461 79.64C232.461 84.536 231.165 89.144 228.573 93.464C225.981 97.784 222.141 101.288 217.053 103.976C211.965 106.664 205.965 108.008 199.053 108.008Z"/>
    <path d="M283.568 108.008C276.944 108.008 270.992 106.856 265.712 104.552C260.528 102.152 256.448 98.888 253.472 94.76C250.496 90.536 248.96 85.688 248.864 80.216H262.832C263.312 84.92 265.232 88.904 268.592 92.168C272.048 95.336 277.04 96.92 283.568 96.92C289.808 96.92 294.704 95.384 298.256 92.312C301.904 89.144 303.728 85.112 303.728 80.216C303.728 76.376 302.672 73.256 300.56 70.856C298.448 68.456 295.808 66.632 292.64 65.384C289.472 64.136 285.2 62.792 279.824 61.352C273.2 59.624 267.872 57.896 263.84 56.168C259.904 54.44 256.496 51.752 253.616 48.104C250.832 44.36 249.44 39.368 249.44 33.128C249.44 27.656 250.832 22.808 253.616 18.584C256.4 14.36 260.288 11.096 265.28 8.792C270.368 6.488 276.176 5.336 282.704 5.336C292.112 5.336 299.792 7.688 305.744 12.392C311.792 17.096 315.2 23.336 315.968 31.112H301.568C301.088 27.272 299.072 23.912 295.52 21.032C291.968 18.056 287.264 16.568 281.408 16.568C275.936 16.568 271.472 18.008 268.016 20.888C264.56 23.672 262.832 27.608 262.832 32.696C262.832 36.344 263.84 39.32 265.856 41.624C267.968 43.928 270.512 45.704 273.488 46.952C276.56 48.104 280.832 49.448 286.304 50.984C292.928 52.808 298.256 54.632 302.288 56.456C306.32 58.184 309.776 60.92 312.656 64.664C315.536 68.312 316.976 73.304 316.976 79.64C316.976 84.536 315.68 89.144 313.088 93.464C310.496 97.784 306.656 101.288 301.568 103.976C296.48 106.664 290.48 108.008 283.568 108.008Z"/>
    <path d="M398.036 6.632V17.288H370.676V107H357.572V17.288H330.068V6.632H398.036Z"/>
    </mask>
    <path d="M55.344 55.304C58.992 55.88 62.304 57.368 65.28 59.768C68.352 62.168 70.752 65.144 72.48 68.696C74.304 72.248 75.216 76.04 75.216 80.072C75.216 85.16 73.92 89.768 71.328 93.896C68.736 97.928 64.944 101.144 59.952 103.544C55.056 105.848 49.248 107 42.528 107H5.08801V6.632H41.088C47.904 6.632 53.712 7.784 58.512 10.088C63.312 12.296 66.912 15.32 69.312 19.16C71.712 23 72.912 27.32 72.912 32.12C72.912 38.072 71.28 43.016 68.016 46.952C64.848 50.792 60.624 53.576 55.344 55.304ZM18.192 49.976H40.224C46.368 49.976 51.12 48.536 54.48 45.656C57.84 42.776 59.52 38.792 59.52 33.704C59.52 28.616 57.84 24.632 54.48 21.752C51.12 18.872 46.272 17.432 39.936 17.432H18.192V49.976ZM41.376 96.2C47.904 96.2 52.992 94.664 56.64 91.592C60.288 88.52 62.112 84.248 62.112 78.776C62.112 73.208 60.192 68.84 56.352 65.672C52.512 62.408 47.376 60.776 40.944 60.776H18.192V96.2H41.376Z" stroke="black" stroke-width="10" mask="url(#path-1-outside-1_2_6)"/>
    <path d="M106.505 17.288V50.84H143.081V61.64H106.505V96.2H147.401V107H93.4005V6.488H147.401V17.288H106.505Z" stroke="black" stroke-width="10" mask="url(#path-1-outside-1_2_6)"/>
    <path d="M199.053 108.008C192.429 108.008 186.477 106.856 181.197 104.552C176.013 102.152 171.933 98.888 168.957 94.76C165.981 90.536 164.445 85.688 164.349 80.216H178.317C178.797 84.92 180.717 88.904 184.077 92.168C187.533 95.336 192.525 96.92 199.053 96.92C205.293 96.92 210.189 95.384 213.741 92.312C217.389 89.144 219.213 85.112 219.213 80.216C219.213 76.376 218.157 73.256 216.045 70.856C213.933 68.456 211.293 66.632 208.125 65.384C204.957 64.136 200.685 62.792 195.309 61.352C188.685 59.624 183.357 57.896 179.325 56.168C175.389 54.44 171.981 51.752 169.101 48.104C166.317 44.36 164.925 39.368 164.925 33.128C164.925 27.656 166.317 22.808 169.101 18.584C171.885 14.36 175.773 11.096 180.765 8.792C185.853 6.488 191.661 5.336 198.189 5.336C207.597 5.336 215.277 7.688 221.229 12.392C227.277 17.096 230.685 23.336 231.453 31.112H217.053C216.573 27.272 214.557 23.912 211.005 21.032C207.453 18.056 202.749 16.568 196.893 16.568C191.421 16.568 186.957 18.008 183.501 20.888C180.045 23.672 178.317 27.608 178.317 32.696C178.317 36.344 179.325 39.32 181.341 41.624C183.453 43.928 185.997 45.704 188.973 46.952C192.045 48.104 196.317 49.448 201.789 50.984C208.413 52.808 213.741 54.632 217.773 56.456C221.805 58.184 225.261 60.92 228.141 64.664C231.021 68.312 232.461 73.304 232.461 79.64C232.461 84.536 231.165 89.144 228.573 93.464C225.981 97.784 222.141 101.288 217.053 103.976C211.965 106.664 205.965 108.008 199.053 108.008Z" stroke="black" stroke-width="10" mask="url(#path-1-outside-1_2_6)"/>
    <path d="M283.568 108.008C276.944 108.008 270.992 106.856 265.712 104.552C260.528 102.152 256.448 98.888 253.472 94.76C250.496 90.536 248.96 85.688 248.864 80.216H262.832C263.312 84.92 265.232 88.904 268.592 92.168C272.048 95.336 277.04 96.92 283.568 96.92C289.808 96.92 294.704 95.384 298.256 92.312C301.904 89.144 303.728 85.112 303.728 80.216C303.728 76.376 302.672 73.256 300.56 70.856C298.448 68.456 295.808 66.632 292.64 65.384C289.472 64.136 285.2 62.792 279.824 61.352C273.2 59.624 267.872 57.896 263.84 56.168C259.904 54.44 256.496 51.752 253.616 48.104C250.832 44.36 249.44 39.368 249.44 33.128C249.44 27.656 250.832 22.808 253.616 18.584C256.4 14.36 260.288 11.096 265.28 8.792C270.368 6.488 276.176 5.336 282.704 5.336C292.112 5.336 299.792 7.688 305.744 12.392C311.792 17.096 315.2 23.336 315.968 31.112H301.568C301.088 27.272 299.072 23.912 295.52 21.032C291.968 18.056 287.264 16.568 281.408 16.568C275.936 16.568 271.472 18.008 268.016 20.888C264.56 23.672 262.832 27.608 262.832 32.696C262.832 36.344 263.84 39.32 265.856 41.624C267.968 43.928 270.512 45.704 273.488 46.952C276.56 48.104 280.832 49.448 286.304 50.984C292.928 52.808 298.256 54.632 302.288 56.456C306.32 58.184 309.776 60.92 312.656 64.664C315.536 68.312 316.976 73.304 316.976 79.64C316.976 84.536 315.68 89.144 313.088 93.464C310.496 97.784 306.656 101.288 301.568 103.976C296.48 106.664 290.48 108.008 283.568 108.008Z" stroke="black" stroke-width="10" mask="url(#path-1-outside-1_2_6)"/>
    <path d="M398.036 6.632V17.288H370.676V107H357.572V17.288H330.068V6.632H398.036Z" stroke="black" stroke-width="10" mask="url(#path-1-outside-1_2_6)"/>
    </svg>
    

<!-- INPUTS HERE -->

<div id="scrollto_electricity_form-billtype">
    <div class="container-inputs-billtype">
        <div class="inputForm-control-billtype">
            <form method="POST" action="/renderInputs1" class="electricity-input-form-billtype" id="electricity_form">
                <h5>Choose your bill type</h5>
                <div class="input-questions-billtype">
                    <input id="mySubmit1" type="submit" value="Time of Use" name="timeofuse"
                        style="height:40px; width:150px"></input>
                </div>
                <div class="input-questions-billtype">
                    <input id="mySubmit2" type="submit" value="Tiered" name="tiered"
                        style="height:40px; width:150px"></input>
            </form>
        </div>
    </div>
</div>

<div id="scrollto_electricity_form-inputs">
    <div class="container-inputs">
        <div class="inputForm-control">
            <div class="input-questions">

                <!-- TIMEOFUSE FORM -->
                {% if billtype=="timeofuse" %}
                {% if newelectricity_form %}
                <form method="POST" class="electricity-input-form" id="electricity_form">
                    {{newelectricity_form.hidden_tag()}}
                    <div class="form-row">
                        <span
                            class="col-6">{{newelectricity_form.Month_Of_bill.label(class="input-lable-format")}}</span>
                        <span>{{newelectricity_form.Month_Of_bill(class="form-control")}}</span>
                    </div>

                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead class="table-light">
                                <tr>
                                    <th scope="col-6">Usage</th>
                                    <th scope="col-6">Price per KWH</th>
                                    <th scope="col-6">Total Amount</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="form-controlfix">{{newelectricity_form.TimeofUse_Off_Peak_Value.label()}}
                                        {{newelectricity_form.TimeofUse_Off_Peak_Value(class="form-control",
                                        placeholder="#")}}</td>
                                    <td>{{newelectricity_form.TimeofUse_Off_Peak_KWH(class="form-control",
                                        placeholder="$")}}</td>
                                    <td>{{newelectricity_form.TimeofUse_Off_Peak_Total(class="form-control",
                                        placeholder="$")}}</td>
                                </tr>
                                <tr>
                                    <td class="form-controlfix">{{newelectricity_form.TimeofUse_Mid_Peak_Value.label()}}
                                        {{newelectricity_form.TimeofUse_Mid_Peak_Value(class="form-control",
                                        placeholder="#")}}</td>
                                    <td>{{newelectricity_form.TimeofUse_Mid_Peak_KWH(class="form-control",
                                        placeholder="$")}}</td>
                                    <td>{{newelectricity_form.TimeofUse_Mid_Peak_Total(class="form-control",
                                        placeholder="$")}}</td>
                                </tr>
                                <tr>
                                    <td class="form-controlfix">{{newelectricity_form.TimeofUse_On_Peak_Value.label()}}
                                        {{newelectricity_form.TimeofUse_On_Peak_Value(class="form-control",
                                        placeholder="#")}}</td>
                                    <td>{{newelectricity_form.TimeofUse_On_Peak_KWH(class="form-control",
                                        placeholder="$")}}</td>
                                    <td>{{newelectricity_form.TimeofUse_On_Peak_Total(class="form-control",
                                        placeholder="$")}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="form-row">
                        <span
                            class="col-6">{{newelectricity_form.DeliveryCharges.label(class="input-lable-format")}}</span>
                        <span>{{newelectricity_form.DeliveryCharges(class="form-control")}}</span>
                    </div>

                    <div class="form-row">
                        <span
                            class="col-6">{{newelectricity_form.RegulatoryCharges.label(class="input-lable-format")}}</span>
                        <span>{{newelectricity_form.RegulatoryCharges(class="form-control")}}</span>
                    </div>

                    <div class="form-row">
                        <span
                            class="col-6">{{newelectricity_form.TotalElectricityCost.label(class="input-lable-format")}}</span>
                        <span>{{newelectricity_form.TotalElectricityCost(class="form-control")}}</span>
                    </div>

                    <div class="form-row" style="margin: 20px 20px 20px 20px;justify-content: center;">
                        {{ newelectricity_form.submit(class="btn btn-primary mb-2") }}
                    </div>
                </form>
                {% endif %}

                <!-- TIERED FORM -->
                {% elif billtype=="tiered"%}
                <form method="POST" class="electricity-input-form" id="electricity_form">
                    {{newelectricity_form.hidden_tag()}}
                    <div class="form-row">
                        <span
                            class="col-6">{{newelectricity_form.Month_Of_bill.label(class="input-lable-format")}}</span>
                        <span>{{newelectricity_form.Month_Of_bill(class="form-control")}}</span>
                    </div>

                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead class="table-light">
                                <tr>
                                    <th scope="col-6">Usage</th>
                                    <th scope="col-6">Price per KWH</th>
                                    <th scope="col-6">Total Amount</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>{{newelectricity_form.Tiered_Value(class="form-control", placeholder="#")}}</td>
                                    <td>{{newelectricity_form.Tiered_KWH(class="form-control", placeholder="$")}}</td>
                                    <td>{{newelectricity_form.Tiered_Total(class="form-control", placeholder="$")}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="form-row">
                        <span
                            class="col-6">{{newelectricity_form.DeliveryCharges.label(class="input-lable-format")}}</span>
                        <span>{{newelectricity_form.DeliveryCharges(class="form-control")}}</span>
                    </div>

                    <div class="form-row">
                        <span
                            class="col-6">{{newelectricity_form.RegulatoryCharges.label(class="input-lable-format")}}</span>
                        <span>{{newelectricity_form.RegulatoryCharges(class="form-control")}}</span>
                    </div>

                    <div class="form-row">
                        <span
                            class="col-6">{{newelectricity_form.TotalElectricityCost.label(class="input-lable-format")}}</span>
                        <span>{{newelectricity_form.TotalElectricityCost(class="form-control")}}</span>
                    </div>

                    <div class="form-row" style="margin: 20px 20px 20px 20px;justify-content: center;">
                        {{ newelectricity_form.submit(class="btn btn-primary mb-2") }}
                    </div>

                </form>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<!-- Scrolling to the selected div -->
{% if scroll %}
<script type="text/javascript">
    document.location.hash = '#' + '{{ scroll }}';
</script>
{% endif %}




<!-- RESULTS HERE -->
<div id="scrollto_results">

    {% if savings %}
    <div class="container-results">
        <div class="results-format">
            <div class="results-1">
                
                <table class="table table-hover table-light table-striped table-bordered">
                    <thead>
                        <tr>
                            <th scope="col">Month/Year</th>
                            <th scope="col">Current Bill</th>
                            <th scope="col">Estimated Price</th>
                            <th scope="col">Savings</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for item in savings %}
                        <tr>
                            <td>{{item.Month}}-{{item.Year}}</td>
                            <td>${{item.CurrentBill}}</td>
                            <td>${{item.EstimatedPrice}}</td>
                            <td>${{item.Savings}}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>

                {% else %}
                <!-- DO NOTHING -->

                {% endif %}
            </div>
            <div class="results-2">
                {% if complete_form %}
                <div class="container-results">
                    <div class="results-format">
                        <div class="results-1">

                            <p>{{complete_form}}</p>
                            <form action="{{url_for('home_page')}}" method="POST" class="container">
                                <div class="frame">
                                    <button id="return_home-btn" class="btn btn-primary mb-2" name="return_home"
                                        type="submit">Reset</button>
                                </div>
                            </form>

                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scrolling the the Results after submitting the inputs -->
        {% if scrollto_results %}
        <script>
            document.getElementById('{{ scrollto_results }}').scrollIntoView();
        </script>
        {% endif %}


        <!-- END OF CONTENT -->
        {% endblock%}