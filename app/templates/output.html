{% extends 'base.html'%} {% block title%} FAQ {% endblock%} 

{% block styles %}
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/output.css')}}">
{% endblock %}

{% block content %}

<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Temperature Data Bar Graph</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js"></script>
    </head>
    <body>
        <p>This is the output Page</p>
        <canvas id="chart"></canvas>
        <script>
            var file = `C:/Users/hardi/FYDP/fydp_bess/costs.csv`;
            d3.csv(file).then(makeChart);
            function makeChart(days) {
                var monthLabel = days.map(function(d){return d.Month});
                var costLabel = days.map(function(d) {return d.Cost});
                console.log("Monthlabel:", monthLabel)
                //Set Min for better visiable range
                var minX = d3.min(costLabel);
                minX -= 10;
                
                var chart = new Chart('chart', {
                    type: 'horizontalBar',
                    data: {
                        labels: monthLabel,
                        datasets: [
                            {
                                data: costLabel
                            }
                        ]
                    },
                    options: {
                        title: {
                            display: true,
                            text: file
                        },
                        legend: {
                            display: false
                        },
                        scales: {
                            xAxes: [
                                {
                                    ticks: {
                                        suggestedMin: minX,
                                    }
                                }
                            ]
                        }
                    }
                });
            }
        </script>
    </body>
</html>



{% endblock%}`````````````````